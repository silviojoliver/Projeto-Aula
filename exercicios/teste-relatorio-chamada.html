<!DOCTYPE html>
<html>
<head>
<title>Projeto Livraria</title>
<meta charset="utf-8" />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
</head>
<body  class="container">
<section class="mb-5 pt-5">
    <form id="formChamada">
        <div>
            <label>Nome:</label>
            <input type="text" name="nome" id="nome" />
        </div>
        <div>
            <input type="checkbox" checked name="chamada" id="chamada" />
            <label>Abrir chamada</label>
        </div>
        <button class="btn btn-info">Confirmar</button>
    </form>
    <div id ="relatorio">
        
    </div>
</section>
</body>
<script>
//parseInt(Math.random()*10).toString()
let idChamada=parseInt(Math.random()*900) + 10000
console.log(idChamada)
//Salvar dados no armazenamento local
localStorage.setItem('chamada-'+idChamada,'Roque,roque@roque.com.br,119993333')
console.log(document.forms.formChamada.chamada.checked)

//Converter o localStorage em array (Desde que existam virgulas)
console.log(localStorage.getItem('chamada-225'))//texto simples
//Ler dados do armazenamento local
let ch=localStorage.getItem('chamada-225')
console.log(typeof(ch))//string

let chArray= ch.split(',')
console.log(chArray)
//Nome do solicitante
console.log('nome:',chArray[0])

//JSON +++++++++++++++++++++
let n ='{"n1":"11a","n2":"2","n3":"3"}'
let nJSON=JSON.parse(n)

console.log(nJSON)//array

let info='{"nome":"' + chArray[0] + '","email":"' + chArray[1] + '"}'


for(key in localStorage){
    console.log(key)
    console.log(localStorage.getItem(key))
    var p = document.createElement('p')
    p.innerHTML=localStorage.getItem(key)
    document.querySelector('#relatorio').appendChild(p)
}

</script>
</html>